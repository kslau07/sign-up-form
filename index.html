<!-- 
		https://cdn.statically.io/gh/TheOdinProject/curriculum/5f37d43908ef92499e95a9b90fc3cc291a95014c/html_css/project-sign-up-form/sign-up-form.png

		https://www.theodinproject.com/lessons/intermediate-html-and-css-sign-up-form

		to do:

		add hide/show for confirm field too

		confirm password with js
		how?

		mark fields invalid with custom validator

		add x and checkmark to invalid, valid fields
		content: '✖';
		content: "✔";

		when we press submit, check each field, mark the invalid fields

		when user starts typing in password, wait 3 seconds, then help with rules
		-or-
		show password meter - implement something like this with emojis:
		https://dribbble.com/shots/4467712-Password-Strength-Meter
		we have to give password fields more space underneath

		(red border) if confirm fails
		make both password fields valid if match (green border)

		add meter for password strength with tick marks

		when user is confirming password, match each character as they go
		use a loop
		only make confirm field invalid if character mismatch

		- add placeholders
		- add mask (disappearing placeholder)
		- add popup tooltip if user gets stuck?
		- or use "are you eleven?"
		- add green check + green border for confirmed

		"are you eleven?" - twitter uses: "what's your name?" under field, small red font

		Not password related:
		- add back "required" attr to inputs
		- add woff2 fonts
		- phone	number, show placeholder + frame like (   ) -      - 

		black and red leaves:
		https://unsplash.com/photos/JtAfZxiwFmg


		Skim maintainable CSS to get a better idea of how to organize your CSS
		https://maintainablecss.com/chapters/semantics/
-->

<!DOCTYPE html>
<html lang="en-US">
	<head>
		<meta charset="UTF-8">
		<title>Odin Sign-Up Form</title>
		<link rel="stylesheet" href="css/style.css">
		<script src="js/script.js" defer></script>
		<link href="https://fonts.googleapis.com/css2?family=Righteous&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Oxygen&display=swap" rel="stylesheet">
	</head>
	<body>

		<!-- delete me -->
		<div class="testContainer">
			<p class="test1">delete me</p>
			<p class="test2">delete me</p>
		</div>

		
		<div class="leftSide">
			<div class="leftSide-overlayBox">
				<img src="images/logo.svg" alt="A logo of a globe" class="leftSide-logoImage">
				<span class="leftSide-brand">LOGO</span>
			</div>
			<div class="leftSide-creditBox">
				Photo by <a href="https://unsplash.com/@valentinsalja">Valentin Salja</a> on <a href="https://unsplash.com/photos/JtAfZxiwFmg">Unsplash</a>
			</div>
		</div>
		<div class="rightSide">
			<div class="rightSide-header">
				<p>This is not a real online service! You know you need something like this in your life to help you realize your deepest dreams.</p>
				<p>Sign up <em>now</em> to get started.</p>
				<p>You <em>know</em> you want to.</p>
			</div>
			<div class="rightSide-body">
				<p>Ready? Let's do this!</p>
				<form action="#" id="signup1">
					<ul class="rightSide-fieldsBox">
						<li>
							<label for="firstname">First name</label>
							<input type="text" name="firstname" id="firstname">
						</li>
						<li>
							<label for="lastname">Last name</label>
							<input type="text" name="lastname" id="lastname">
						</li>
						<li>
							<label for="email">Email<span aria-label="required">*</span></label>
							<input type="text"
										 name="email"
										 id="email"
										 pattern="\w+@\w+\.\w+"
										 title="example: john@company.com"
										 >
										 <!-- required -->
						</li>
						<li>
							<label for="phone">Phone number<span aria-label="required">*</span></label>
							<input type="text"
										 name="phone"
										 id="phone"
										 pattern=".?(\d{3}).*(\d{3}).*(\d{4})"
										 title="example: (341)-255-2770"
										 >
										 <!-- required -->  
						</li>
						<li>
							
							<div class="pwdWidgetContainer">
								<span class="eye"></span>
								<span class="eyeSlash"></span>
								<button class="pwdToggle" type="button"></button>
								<span class="pwdHelp"></span>
							</div>

							<label for="pwdInitial">Password<span aria-label="required">*</span></label>
							<input type="password"
										 name="pwdInitial"
										 id="pwdInitial"
										 class="error"
										 pattern="(?=(.*[0-9]))(?=(.*[a-z]))(?=(.*[A-Z]))(?=(.*[\W]))^.{8,}$"
										 title="Password must be at least 8 characters and contain one of each of the following:
										  a number, a symbol, a lower and an uppercase letter"
										 >

										 <!-- (?=(.*[0-9]))(?=(.*[A-Z]))(?=(.*[\W]))^.{8,}$ -->
										 <!-- my regexp: 1 number, 1 lower, 1 upper, 1 symbol -->

										 <!-- (?=(.*[0-9]))((?=.*[A-Za-z0-9])(?=.*[A-Z])(?=.*[a-z]))^.{8,}$ -->
										 <!-- Should have 1 lowercase letter, 1 uppercase letter, 1 number, and be at least 8 characters long -->
										 
										 <!-- (?=^.{8,}$) -->
										 <!-- required --> 
										 <!-- (?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$ -->
							
						</li>
						<li>
							<div class="pwdConfirmWidgetContainer">
								<span class="eye"></span>
								<span class="eyeSlash"></span>
								<button class="pwdToggle" type="button"></button>
								<span class="pwdConfirmHelp"></span>
							</div>
							<label for="pwdConfirm">Confirm password<span aria-label="required">*</span></label>
							<input type="password" name="pwdConfirm" id="pwdConfirm" class="error">
							<!-- required -->
						</li>
					</ul>
				</form>
			</div>
			<div class="rightSide-footer">
				<div><button class="btnSubmit" form="signup1">Create Account</button></div>
				<p>Already have an account?
					<a href="#">Log in</a></p>
			</div>
		</div>
	</body>

	<script>
		'use strict';

		// delete me
		const test1 = document.querySelector('.test1');
		const test2 = document.querySelector('.test2');

		// confirm password
		const pwdInitialField = document.getElementById('pwdInitial')
		const pwdConfirmField = document.getElementById('pwdConfirm')
		const pwdConfirmHelpSpan = document.querySelector('.pwdConfirmHelp');
		const errorFields = document.querySelectorAll('.error');

		pwdConfirmField.addEventListener('keyup', (e) => {
			const pwdInitialStr = pwdInitialField.value
			const pwdConfirmStr = pwdConfirmField.value
			const confirmLength = pwdConfirmStr.length
			const initialSubStr = pwdInitialStr.slice(0, confirmLength)

			if ( pwdConfirmStr != initialSubStr ) {
				// alert(pwdConfirmStr.length)
				pwdConfirmHelpSpan.textContent = 'Passwords do not match.';
				pwdConfirmHelpSpan.style.color = 'red';
				errorFields.forEach((elem) => {elem.style.outline = '2px solid red';});
			} else if ( pwdConfirmStr == pwdInitialStr ) {
				pwdConfirmHelpSpan.textContent = 'Passwords match!';
				pwdConfirmHelpSpan.style.color = 'green';
			}

			if (pwdConfirmStr == '') {
				// remove help if field empty
				pwdConfirmHelpSpan.textContent = '';
				errorFields.forEach((elem) => {elem.style.outline = '';});
			};
		});

		// Visibility buttons
		const pwdToggleBtnNodeList = document.querySelectorAll('.pwdToggle')
		pwdToggleBtnNodeList.forEach(elem => {elem.addEventListener('click', pwdToggleVisibility)});

		function pwdToggleVisibility() {
			const eyeSlashNodeList = document.querySelectorAll('.eyeSlash')
			const eyeNodeList = document.querySelectorAll('.eye')
			const leftEye = document.querySelector('.eye')

			if (window.getComputedStyle(leftEye).visibility == 'hidden') {
				eyeSlashNodeList.forEach(eyeSlash => {eyeSlash.style.visibility = 'hidden';});
				eyeNodeList.forEach(eye => {eye.style.visibility = 'visible';});
				pwdInitialField.type = 'text'
				pwdConfirmField.type = 'text'
			} else {
				eyeSlashNodeList.forEach(eyeSlash => {eyeSlash.style.visibility = 'visible';});
				eyeNodeList.forEach(eye => {eye.style.visibility = 'hidden';});
				pwdInitialField.type = 'password'
				pwdConfirmField.type = 'password'
			};
		};
	</script>
</html>
